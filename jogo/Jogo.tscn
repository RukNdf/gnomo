[gd_scene load_steps=26 format=3 uid="uid://fqofi4s5xd28"]

[ext_resource type="Script" path="res://jogo/Jogo.gd" id="1_2b80a"]
[ext_resource type="PackedScene" uid="uid://bsa5ljee4nfo" path="res://jogo/assets/map/Ground.tscn" id="1_t65l0"]
[ext_resource type="Script" path="res://jogo/Camera3D.gd" id="3_goc5b"]
[ext_resource type="PackedScene" uid="uid://dprocgeb8ure4" path="res://jogo/assets/hud/Forest.tscn" id="3_jb13l"]
[ext_resource type="PackedScene" uid="uid://oqt3xm2plyds" path="res://jogo/assets/hud/Cursor.tscn" id="4_23btj"]
[ext_resource type="Script" path="res://jogo/assets/hud/Cursor.gd" id="5_jfmow"]
[ext_resource type="PackedScene" uid="uid://c6h1k467knxnk" path="res://jogo/assets/hud/Arrow.tscn" id="8_ikw7w"]
[ext_resource type="AudioStream" uid="uid://dxhwdmww0b08n" path="res://mus/build.mp3" id="9_nelf8"]
[ext_resource type="AudioStream" uid="uid://bijx3q3p5ij2r" path="res://mus/atk.mp3" id="10_oy75o"]
[ext_resource type="Texture2D" uid="uid://dbgpnjryugo6d" path="res://jogo/assets/hud/treeShadow.png" id="11_4f1rt"]
[ext_resource type="PackedScene" uid="uid://baukyukyxwori" path="res://jogo/assets/Gnome.tscn" id="11_20040"]
[ext_resource type="Texture2D" uid="uid://desq32d5llcdi" path="res://jogo/assets/hud/forestForeground.png" id="11_ddiwf"]
[ext_resource type="Shader" path="res://jogo/assets/hud/treeShadow.gdshader" id="11_o2rlp"]
[ext_resource type="PackedScene" uid="uid://yecjvohw3ilf" path="res://jogo/assets/hud/Resources.tscn" id="11_uv7wv"]
[ext_resource type="PackedScene" uid="uid://byagf7xbcx37j" path="res://jogo/assets/BuildingMenu/BuildingMenu.tscn" id="14_cyh6t"]
[ext_resource type="Shader" path="res://jogo/assets/hud/foreRustle.gdshader" id="14_qxplc"]
[ext_resource type="Texture2D" uid="uid://co5pr03rt13jm" path="res://jogo/assets/hud/forestForeL.png" id="16_7henw"]
[ext_resource type="Texture2D" uid="uid://b4icrnnqc2mky" path="res://jogo/assets/hud/forestForeR.png" id="17_keuvm"]

[sub_resource type="Environment" id="Environment_8vrw3"]
background_mode = 1
background_color = Color(0.4, 1, 0.290196, 1)
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2g7dm"]
shader = ExtResource("11_o2rlp")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cv80i"]
shader = ExtResource("14_qxplc")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_b3b3k"]
shader = ExtResource("14_qxplc")

[sub_resource type="Animation" id="Animation_ww7sj"]
resource_name = "GG"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Game Over:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-851, 648), Vector2(-851, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("resources:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Turn:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../menu:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("../menu:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 175), Vector2(0, 250)]
}

[sub_resource type="Animation" id="Animation_jco2y"]
resource_name = "Rustle"
length = 2.0
loop_mode = 1

[sub_resource type="AnimationLibrary" id="AnimationLibrary_t81et"]
_data = {
"GG": SubResource("Animation_ww7sj"),
"Rustle": SubResource("Animation_jco2y")
}

[node name="jogo" type="Node3D"]
script = ExtResource("1_2b80a")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.641304, -0.272422, 0.717298, -0.0328686, 0.924237, 0.380401, -0.766583, -0.267529, 0.583763, 18.423, 4.6, 12.685)
projection = 1
size = 10.0
near = 0.001
script = ExtResource("3_goc5b")

[node name="gnome" parent="." instance=ExtResource("11_20040")]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 15.3634, 0, 4.17966)

[node name="Cursor" parent="." instance=ExtResource("4_23btj")]
script = ExtResource("5_jfmow")

[node name="Arrow" parent="." instance=ExtResource("8_ikw7w")]
transform = Transform3D(0.35, 0, 0, 0, -1.5299e-08, 0.35, 0, -0.35, -1.5299e-08, 3.04011, 0.1, 2.1972)

[node name="ground" parent="." instance=ExtResource("1_t65l0")]
transform = Transform3D(22, 0, 0, 0, 0.2, 0, 0, 0, 15, 11, -0.1, 7.5)
collision_layer = 3

[node name="trunk" parent="." instance=ExtResource("3_jb13l")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_8vrw3")

[node name="AtkTimer" type="Timer" parent="."]

[node name="Bsong" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_nelf8")
autoplay = true

[node name="Asong" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_oy75o")

[node name="Overlay" type="Node2D" parent="."]
position = Vector2(851, 0)

[node name="Shadow" type="Sprite2D" parent="Overlay"]
self_modulate = Color(1, 1, 1, 0.105882)
material = SubResource("ShaderMaterial_2g7dm")
position = Vector2(-275, 317)
texture = ExtResource("11_4f1rt")
region_filter_clip_enabled = true

[node name="Turn" type="RichTextLabel" parent="Overlay"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 145.0
offset_right = 301.0
offset_bottom = 124.0
grow_horizontal = 0
theme_override_font_sizes/normal_font_size = 90
text = "Turn   1"
fit_content = true
autowrap_mode = 0
text_direction = 2

[node name="resources" parent="Overlay" instance=ExtResource("11_uv7wv")]
position = Vector2(-851, 0)

[node name="Game Over" type="RichTextLabel" parent="Overlay"]
offset_left = -851.0
offset_top = 648.0
offset_right = 301.0
offset_bottom = 1296.0
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_colors/font_shadow_color = Color(0.239216, 0.239216, 0.239216, 1)
theme_override_colors/font_outline_color = Color(1, 1, 1, 1)
text = "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
scroll_active = false

[node name="foreground" type="Sprite2D" parent="Overlay"]
visible = false
material = SubResource("ShaderMaterial_cv80i")
position = Vector2(-275.5, 326.5)
scale = Vector2(1.01476, 1.00772)
texture = ExtResource("11_ddiwf")

[node name="foregroundL" type="Sprite2D" parent="Overlay"]
material = SubResource("ShaderMaterial_b3b3k")
position = Vector2(-560, 554)
texture = ExtResource("16_7henw")

[node name="foregroundR" type="Sprite2D" parent="Overlay"]
material = SubResource("ShaderMaterial_b3b3k")
position = Vector2(67, 530)
texture = ExtResource("17_keuvm")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Overlay"]
autoplay = "Rustle"
speed_scale = 0.6
libraries = {
"": SubResource("AnimationLibrary_t81et")
}

[node name="menu" parent="." instance=ExtResource("14_cyh6t")]

[connection signal="timeout" from="AtkTimer" to="." method="towerAtk"]
