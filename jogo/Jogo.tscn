[gd_scene load_steps=32 format=3 uid="uid://fqofi4s5xd28"]

[ext_resource type="Script" path="res://jogo/Jogo.gd" id="1_2b80a"]
[ext_resource type="PackedScene" uid="uid://bsa5ljee4nfo" path="res://jogo/assets/map/Ground.tscn" id="1_t65l0"]
[ext_resource type="Script" path="res://jogo/Camera3D.gd" id="3_goc5b"]
[ext_resource type="PackedScene" uid="uid://dprocgeb8ure4" path="res://jogo/assets/hud/Forest.tscn" id="3_jb13l"]
[ext_resource type="PackedScene" uid="uid://oqt3xm2plyds" path="res://jogo/assets/hud/Cursor.tscn" id="4_23btj"]
[ext_resource type="Script" path="res://jogo/assets/hud/Cursor.gd" id="5_jfmow"]
[ext_resource type="PackedScene" uid="uid://c6h1k467knxnk" path="res://jogo/assets/hud/Arrow.tscn" id="8_ikw7w"]
[ext_resource type="AudioStream" uid="uid://dxhwdmww0b08n" path="res://mus/build.mp3" id="9_nelf8"]
[ext_resource type="AudioStream" uid="uid://bijx3q3p5ij2r" path="res://mus/atk.mp3" id="10_oy75o"]
[ext_resource type="AudioStream" uid="uid://dnh0t18wojhxq" path="res://mus/sfx/battle-horn.mp3" id="10_s3qrk"]
[ext_resource type="Texture2D" uid="uid://dbgpnjryugo6d" path="res://jogo/assets/hud/treeShadow.png" id="11_4f1rt"]
[ext_resource type="PackedScene" uid="uid://baukyukyxwori" path="res://jogo/assets/Gnome.tscn" id="11_20040"]
[ext_resource type="Shader" path="res://jogo/assets/hud/treeShadow.gdshader" id="11_o2rlp"]
[ext_resource type="AudioStream" uid="uid://dfswyx4216vkb" path="res://mus/sfx/build.mp3" id="11_s511n"]
[ext_resource type="PackedScene" uid="uid://yecjvohw3ilf" path="res://jogo/assets/hud/Resources.tscn" id="11_uv7wv"]
[ext_resource type="AudioStream" uid="uid://cbocs18ktb4sa" path="res://mus/sfx/DIE.mp3" id="12_gfhdm"]
[ext_resource type="AudioStream" uid="uid://blkl4plikvm7k" path="res://mus/sfx/hit.mp3" id="13_6q1m7"]
[ext_resource type="PackedScene" uid="uid://byagf7xbcx37j" path="res://jogo/assets/BuildingMenu/BuildingMenu.tscn" id="14_cyh6t"]
[ext_resource type="Shader" path="res://jogo/assets/hud/foreRustle.gdshader" id="14_qxplc"]
[ext_resource type="Texture2D" uid="uid://co5pr03rt13jm" path="res://jogo/assets/hud/forestForeL.png" id="16_7henw"]
[ext_resource type="PackedScene" uid="uid://cl51c3hxl8gf0" path="res://jogo/assets/hud/TurnButton.tscn" id="17_jeokt"]
[ext_resource type="Texture2D" uid="uid://b4icrnnqc2mky" path="res://jogo/assets/hud/forestForeR.png" id="17_keuvm"]
[ext_resource type="Script" path="res://jogo/assets/Spawners.gd" id="18_ecync"]
[ext_resource type="PackedScene" uid="uid://cqcg1fmjtcefo" path="res://jogo/assets/Enemy/enemySpawner.tscn" id="18_pkqmr"]
[ext_resource type="PackedScene" uid="uid://5233cv5pxuof" path="res://jogo/assets/hud/Hammer.tscn" id="21_ij71n"]

[sub_resource type="Environment" id="Environment_8vrw3"]
background_mode = 1
background_color = Color(0.38857, 0.98, 0.2842, 1)
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2g7dm"]
shader = ExtResource("11_o2rlp")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_b3b3k"]
shader = ExtResource("14_qxplc")

[sub_resource type="Animation" id="Animation_ww7sj"]
resource_name = "GG"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Game Over:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-851, 648), Vector2(-851, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("resources:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Turn:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../menu:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("../menu:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 175), Vector2(0, 250)]
}

[sub_resource type="Animation" id="Animation_jco2y"]
resource_name = "Rustle"
length = 2.0
loop_mode = 1

[sub_resource type="AnimationLibrary" id="AnimationLibrary_t81et"]
_data = {
"GG": SubResource("Animation_ww7sj"),
"Rustle": SubResource("Animation_jco2y")
}

[node name="jogo" type="Node3D"]
script = ExtResource("1_2b80a")

[node name="Camera" type="Camera3D" parent="."]
transform = Transform3D(0.641304, -0.272422, 0.717298, -0.0328686, 0.924237, 0.380401, -0.766583, -0.267529, 0.583763, 22.4884, 6.75599, 15.9936)
projection = 1
size = 10.0
near = 0.001
script = ExtResource("3_goc5b")

[node name="gnome" parent="." instance=ExtResource("11_20040")]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 15.3634, 0, 4.17966)

[node name="Cursor" parent="." instance=ExtResource("4_23btj")]
script = ExtResource("5_jfmow")

[node name="ground" parent="." instance=ExtResource("1_t65l0")]
transform = Transform3D(22, 0, 0, 0, 0.2, 0, 0, 0, 15, 11, -0.1, 7.5)
collision_layer = 3

[node name="trunk" parent="." instance=ExtResource("3_jb13l")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_8vrw3")

[node name="AtkTimer" type="Timer" parent="."]

[node name="Bsong" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_nelf8")
autoplay = true

[node name="Asong" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_oy75o")

[node name="Horn" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_s3qrk")

[node name="SFX" type="Node" parent="."]

[node name="Build" type="AudioStreamPlayer" parent="SFX"]
stream = ExtResource("11_s511n")

[node name="EnemyDeath" type="AudioStreamPlayer" parent="SFX"]
stream = ExtResource("12_gfhdm")
max_polyphony = 5

[node name="EnemyHit" type="AudioStreamPlayer" parent="SFX"]
stream = ExtResource("13_6q1m7")
max_polyphony = 5

[node name="Overlay" type="Node2D" parent="."]
position = Vector2(851, 0)

[node name="Shadow" type="Sprite2D" parent="Overlay"]
self_modulate = Color(1, 1, 1, 0.105882)
material = SubResource("ShaderMaterial_2g7dm")
position = Vector2(-275, 317)
texture = ExtResource("11_4f1rt")
region_filter_clip_enabled = true

[node name="TPre" type="RichTextLabel" parent="Overlay"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -127.0
offset_top = 8.0
offset_right = 125.0
offset_bottom = 132.0
grow_horizontal = 0
theme_override_font_sizes/normal_font_size = 70
text = "Turn "
fit_content = true
autowrap_mode = 0
text_direction = 2

[node name="Turn" type="RichTextLabel" parent="Overlay"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 63.0
offset_top = 9.0
offset_right = 219.0
offset_bottom = 133.0
grow_horizontal = 0
theme_override_font_sizes/normal_font_size = 70
text = "1"
fit_content = true
autowrap_mode = 0
text_direction = 2

[node name="resources" parent="Overlay" instance=ExtResource("11_uv7wv")]
position = Vector2(-851, 0)

[node name="Game Over" type="RichTextLabel" parent="Overlay"]
offset_left = -851.0
offset_top = 648.0
offset_right = 301.0
offset_bottom = 1296.0
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_colors/font_shadow_color = Color(0.239216, 0.239216, 0.239216, 1)
theme_override_colors/font_outline_color = Color(1, 1, 1, 1)
text = "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
scroll_active = false

[node name="foregroundL" type="Sprite2D" parent="Overlay"]
material = SubResource("ShaderMaterial_b3b3k")
position = Vector2(-560, 554)
texture = ExtResource("16_7henw")

[node name="foregroundR" type="Sprite2D" parent="Overlay"]
material = SubResource("ShaderMaterial_b3b3k")
position = Vector2(67, 530)
texture = ExtResource("17_keuvm")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Overlay"]
autoplay = "Rustle"
speed_scale = 0.6
libraries = {
"": SubResource("AnimationLibrary_t81et")
}

[node name="turnButton" parent="Overlay" instance=ExtResource("17_jeokt")]
offset_left = 176.0
offset_top = 570.0
offset_right = 276.0
offset_bottom = 623.0

[node name="Hammer" parent="Overlay" instance=ExtResource("21_ij71n")]
position = Vector2(254, 48)

[node name="Icons" type="Node2D" parent="."]

[node name="Hammer" parent="Icons" instance=ExtResource("21_ij71n")]
position = Vector2(-105, 108)

[node name="menu" parent="." instance=ExtResource("14_cyh6t")]

[node name="Spawners" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.01, 0)
script = ExtResource("18_ecync")

[node name="EnemySpawnerUL" parent="Spawners" instance=ExtResource("18_pkqmr")]
transform = Transform3D(2.91877, 0, -4.05965, 0, 2, 0, 4.05965, 0, 2.91877, -0.4567, 0, -0.635214)
visible = false

[node name="ArrowUL" parent="Spawners" instance=ExtResource("8_ikw7w")]
transform = Transform3D(0.35, 0, 0, 0, -1.5299e-08, 0.35, 0, -0.35, -1.5299e-08, 3.04011, 0.09, 2.1972)
visible = false

[node name="EnemySpawnerLL" parent="Spawners" instance=ExtResource("18_pkqmr")]
transform = Transform3D(5, 0, 0, 0, 2, 0, 0, 0, 5, -0.587847, 0, 10.9395)
visible = false

[node name="ArrowLL" parent="Spawners" instance=ExtResource("8_ikw7w")]
transform = Transform3D(0.35, 0, 0, 0, -1.5299e-08, 0.35, 0, -0.35, -1.5299e-08, 4.25922, 0.0900005, 12.432)
visible = false
flip_v = true

[node name="EnemySpawnerUR" parent="Spawners" instance=ExtResource("18_pkqmr")]
transform = Transform3D(5, 0, 0, 0, 2, 0, 0, 0, 5, 20.2306, 0, -0.130857)
visible = false

[node name="ArrowUR" parent="Spawners" instance=ExtResource("8_ikw7w")]
transform = Transform3D(0.338074, -0.0905867, -3.95967e-09, 0, -1.5299e-08, 0.35, -0.0905867, -0.338074, -1.47777e-08, 19.2, 0.09, 1.5)
visible = false
flip_h = true

[node name="EnemySpawnerLR" parent="Spawners" instance=ExtResource("18_pkqmr")]
transform = Transform3D(3.53553, 0, -3.53553, 0, 2, 0, 3.53553, 0, 3.53553, 22.9577, 0, 15.1494)
visible = false

[node name="ArrowLR" parent="Spawners" instance=ExtResource("8_ikw7w")]
transform = Transform3D(0.34103, 0.0787329, 3.44152e-09, 0, -1.5299e-08, 0.35, 0.0787329, -0.34103, -1.49069e-08, 20.5, 0.001, 13)
visible = false
flip_h = true
flip_v = true

[node name="EnemySpawnerC" parent="Spawners" instance=ExtResource("18_pkqmr")]
transform = Transform3D(5, 0, 0, 0, 2, 0, 0, 0, 5, 10.1871, 0, 6.69993)
visible = false

[connection signal="timeout" from="AtkTimer" to="." method="towerAtk"]
[connection signal="button_up" from="Overlay/turnButton" to="." method="passTurn"]
